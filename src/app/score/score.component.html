<div class="score-container">
    <div class="header">
        <h1>Tw√≥j Wynik Kredytowy</h1>
        <p class="subtitle">Analiza zdolno≈õci kredytowej</p>
    </div>

    @if (!hasCapacity) {
    <!-- Brak zdolno≈õci kredytowej -->
    <div class="error-message-box">
        <div class="error-icon">‚ö†Ô∏è</div>
        <h2>BRAK ZDOLNO≈öCI KREDYTOWEJ</h2>
        <p class="error-description">
            Niestety, na podstawie wprowadzonych danych nie posiadasz wystarczajƒÖcej zdolno≈õci kredytowej do
            zaciƒÖgniƒôcia tego kredytu.
        </p>
        <div class="failure-details">
            <pre>{{ failureMessage }}</pre>
        </div>
    </div>
    } @else {
    <!-- Normalny wy≈õwietlacz score -->
    <div class="score-display">
        <div class="score-circle" [style.borderColor]="scoreColor">
            <div class="score-label">CREDIT SCORE</div>
            <div class="score-value" [style.color]="scoreColor">{{ score }}</div>
            <div class="score-desc" [style.color]="scoreColor">{{ scoreDescription }}</div>
            <div class="score-max">/ 850</div>
        </div>
    </div>

    <div class="factors-grid">
        <div class="factor-card" [ngClass]="getFactorStatus('history')">
            <div class="icon">üìÖ</div>
            <h3>Historia Kredytowa</h3>
            <p>Terminowo≈õƒá sp≈Çat</p>
        </div>
        <div class="factor-card" [ngClass]="getFactorStatus('debt')">
            <div class="icon">‚öñÔ∏è</div>
            <h3>Zad≈Çu≈ºenie</h3>
            <p>Stosunek d≈Çugu do dochodu</p>
        </div>
        <div class="factor-card" [ngClass]="getFactorStatus('age')">
            <div class="icon">‚è≥</div>
            <h3>D≈Çugo≈õƒá Historii</h3>
            <p>Wiek kont kredytowych</p>
        </div>
        <div class="factor-card" [ngClass]="getFactorStatus('newCredits')">
            <div class="icon">üîç</div>
            <h3>Nowe Kredyty</h3>
            <p>Liczba zapyta≈Ñ</p>
        </div>
        <div class="factor-card" [ngClass]="getFactorStatus('mix')">
            <div class="icon">üí≥</div>
            <h3>Mix Kredytowy</h3>
            <p>R√≥≈ºnorodno≈õƒá produkt√≥w</p>
        </div>
    </div>
    }

    <div class="actions">
        <button (click)="ngOnInit()">Od≈õwie≈º</button>
        <a routerLink="/calc" class="btn-secondary">Przelicz ponownie</a>
        <a routerLink="/" class="btn-secondary">Strona g≈Ç√≥wna</a>
    </div>
</div>